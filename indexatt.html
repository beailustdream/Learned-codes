<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CREATIVA IA</title>

<!-- Favicon -->
<link rel="icon" href="https://i.postimg.cc/GhNBPYBT/favicon-16x16.png" type="image/x-icon">

<!-- Fonte Mohave -->
<link href="https://fonts.googleapis.com/css2?family=Mohave:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root {
  --bg-gradient-light: linear-gradient(135deg, #b9f3ff 0%, #e0faff 100%);
  --header-bg-light: rgba(255, 255, 255, 0.4);
  --footer-bg-light: rgba(255, 255, 255, 0.5);
  --bot-bg-light: rgba(255, 255, 255, 0.6);
  --user-bg-light: rgba(0, 128, 255, 0.7);
  --text-color-light: #0a2540;

  --bg-gradient-dark: linear-gradient(135deg, #0b1e33 0%, #003459 100%);
  --header-bg-dark: rgba(30, 41, 59, 0.7);
  --footer-bg-dark: rgba(30, 41, 59, 0.6);
  --bot-bg-dark: rgba(255, 255, 255, 0.15);
  --user-bg-dark: rgba(0, 140, 255, 0.7);
  --text-color-dark: #e0f2fe;
}

* {margin:0; padding:0; box-sizing:border-box; font-family: 'Mohave', Arial, sans-serif;}

/* Body */
body {width:100vw; height:100vh; display:flex; background: var(--bg-gradient-light); color: var(--text-color-light); overflow:hidden; transition:0.4s;}
body.dark {background: var(--bg-gradient-dark); color: var(--text-color-dark);}

/* Fundo bolhas */
.background {position:absolute; width:100%; height:100%; overflow:hidden; top:0; left:0; z-index:0;}
.bubble {position:absolute; bottom:-150px; border-radius:50%; opacity:0.6; animation: floatUp linear infinite;}
@keyframes floatUp {0% {transform: translateY(0) scale(1);} 100% {transform: translateY(-110vh) scale(1.3);}}

/* Sidebar */
#sidebar {position:fixed; top:0; left:0; height:100vh; width:250px; background: rgba(255,255,255,0.85); backdrop-filter: blur(12px); display:flex; flex-direction:column; z-index:2; transition:transform 0.3s ease; padding-top:10px;}
body.dark #sidebar {background: rgba(30,41,59,0.85);}
#sidebar.hidden {transform: translateX(-100%);}

/* Logo */
#logo {text-align:center; padding:10px 0; border-bottom:1px solid rgba(0,0,0,0.1);}
#logo img {max-width:100%; height:auto;}

/* Bot√µes do menu */
#menuButtons {display:flex; flex-direction:column; margin-top:10px;}
#menuButtons button {padding:15px 20px; border:none; background:none; text-align:left; cursor:pointer; font-size:16px; position:relative; overflow:hidden; color:inherit; transition:0.3s; border-radius:10px; margin:5px 10px;}
#menuButtons button::before {content:""; position:absolute; top:0; left:-100%; width:100%; height:100%; background:rgba(0,255,255,0.2); transform: skewX(-20deg); transition:0.4s; border-radius:10px;}
#menuButtons button:hover::before {left:100%;}
#menuButtons button:hover {color:#00f0ff;}

/* Perfil */
#userProfile {display:flex; align-items:center; padding:20px; border-top:1px solid rgba(0,0,0,0.1); margin-top:auto;}
#userProfile img {width:50px; height:50px; border-radius:50%; object-fit:cover; margin-right:15px; border:2px solid #00c6ff;}
#userProfile span {font-weight:bold; font-size:16px; color:inherit;}

/* Conte√∫do principal */
#mainContent {flex:1; margin-left:250px; display:flex; flex-direction:column; height:100vh; width: calc(100vw - 250px); overflow:hidden;}
#mainContent.fullWidth {margin-left:0; width:100vw; transition:width 0.3s ease, margin-left 0.3s ease;}

/* Header */
header {position:sticky; top:0; z-index:3; padding:15px 20px; font-size:20px; font-weight:bold; display:flex; align-items:center; justify-content:space-between; backdrop-filter: blur(12px); border-bottom:1px solid rgba(255,255,255,0.2);}
body.light header {background: var(--header-bg-light);}
body.dark header {background: var(--header-bg-dark);}
header button {background:none; border:none; font-size:22px; cursor:pointer; color:inherit; transition:0.2s;}
header button:hover {transform:scale(1.2);}

/* Chat */
main {flex:1; padding:20px; overflow-y:auto; display:flex; flex-direction:column; gap:15px;}
.message {max-width:70%; padding:14px 18px; border-radius:20px; line-height:1.5; word-wrap:break-word; font-size:15px; box-shadow:0 4px 12px rgba(0,0,0,0.15); backdrop-filter: blur(8px); transition:0.3s;}
body.light .bot {background: var(--bot-bg-light); color: var(--text-color-light); box-shadow:0 0 12px #00f0ff,0 0 20px #00c6ff66;}
body.dark .bot {background: var(--bot-bg-dark); color: var(--text-color-dark); box-shadow:0 0 15px #0ff,0 0 25px #0ff;}
body.light .user {background: var(--user-bg-light); color:#fff;}
body.dark .user {background: var(--user-bg-dark); color:#fff;}
.bot {align-self:flex-start; border-bottom-left-radius:0;}
.user {align-self:flex-end; border-bottom-right-radius:0;}

/* Typing animation */
.typing {display:inline-block; width:8px; height:8px; background:#0ff; border-radius:50%; animation:blink 1s infinite; margin-left:5px;}
@keyframes blink {0%,50%,100%{opacity:0.3;} 25%,75%{opacity:1;}}

/* Footer */
footer {display:flex; align-items:center; padding:10px 15px; backdrop-filter: blur(10px); border-top:1px solid rgba(255,255,255,0.3); z-index:2;}
body.light footer {background: var(--footer-bg-light);}
body.dark footer {background: var(--footer-bg-dark);}
footer input {flex:1; padding:12px 15px; border-radius:25px; border:1px solid rgba(255,255,255,0.3); outline:none; font-size:15px; backdrop-filter: blur(6px);}
body.light footer input {background: rgba(255,255,255,0.7); color: var(--text-color-light);}
body.dark footer input {background: rgba(255,255,255,0.15); color: var(--text-color-dark);}
footer button {margin-left:10px; background:linear-gradient(135deg,#00c6ff,#0072ff); border:none; border-radius:50%; color:white; width:45px; height:45px; font-size:18px; cursor:pointer; box-shadow:0 4px 10px rgba(0,0,0,0.3); transition:0.3s;}
footer button:hover {transform:scale(1.1); box-shadow:0 0 15px rgba(0,255,255,0.5);}
#micButton {margin-left:10px; background:linear-gradient(135deg,#00bfff,#0066ff); width:45px; height:45px; border-radius:50%; border:none; color:white; font-size:18px; cursor:pointer; box-shadow:0 4px 10px rgba(0,140,255,0.6); transition:0.3s;}
#micButton.active {box-shadow:0 0 20px rgba(0,255,255,0.5);}
#micButton.active::before, #micButton.active::after {content:""; position:absolute; width:45px; height:45px; border-radius:50%; border:2px solid rgba(0,255,255,0.5); animation:pulse 1.2s infinite ease-in-out;}
#micButton.active::after {animation-delay:0.4s;}
@keyframes pulse {0%{transform:scale(1);opacity:0.6;}50%{transform:scale(1.5);opacity:0;}100%{transform:scale(1);opacity:0;}}

/* Modal tutorial */
.modal {position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); background:rgba(255,255,255,0.95); backdrop-filter:blur(10px); border-radius:15px; padding:20px; width:400px; max-width:90%; display:none; z-index:10; flex-direction:column;}
body.dark .modal {background: rgba(30,41,59,0.95); color: var(--text-color-dark);}
.modal h3 {margin-bottom:10px; font-size:18px;}
.modal button {margin-top:10px; padding:8px 12px; border:none; border-radius:8px; cursor:pointer; background:linear-gradient(135deg,#00c6ff,#0072ff); color:white;}
</style>
</head>

<body class="light">
<div class="background" id="background"></div>

<!-- Menu lateral -->
<div id="sidebar">
  <div id="logo"><img src="https://i.postimg.cc/MpvTvGdG/creativa-logo.png" alt="Logo"></div>
  <div id="menuButtons">
    <button onclick="alert('üîç Pesquisa')">üîç Pesquisa</button>
    <button onclick="alert('‚öôÔ∏è Configura√ß√µes')">‚öôÔ∏è Configura√ß√µes</button>
    <button onclick="newChat()">‚ûï Novo chat</button>
    <button onclick="alert('üïë Hist√≥rico')">üïë Hist√≥rico</button>
    <button id="btnTutorial">üìò Tutorial</button>
  </div>
  <div id="userProfile">
    <img src="https://i.postimg.cc/fy3gBk7W/111-Sem-T-tulo-20251004161225.jpg" alt="Avatar do Usu√°rio">
    <span>Beatriz Gon√ßalves</span>
  </div>
</div>

<!-- Conte√∫do principal -->
<div id="mainContent">
<header>
  <div style="display:flex; align-items:center; gap:10px;">
    <button id="toggleSidebar" title="Mostrar/Esconder menu">‚ò∞</button>
    üí† <span>Yuri Sasaki</span>
  </div>
  <button id="themeToggle" title="Mudar tema">üåô</button>
</header>

<main id="chatMessages">
  <div class="message bot">Ol√°, sou Yuri!<br>Como posso te ajudar hoje? ‚ò∫Ô∏è</div>
</main>

<footer>
  <input type="text" id="userInput" placeholder="Digite sua mensagem...">
  <button id="micButton" title="Falar">üé§</button>
  <button onclick="sendMessage()">‚û§</button>
</footer>

<!-- Tutorial Modal -->
<div id="modalTutorial" class="modal">
  <h3>üìò Tutorial Interativo</h3>
  <div id="tutorialContent" style="min-height:200px;"></div>
  <button id="nextStepBtn">‚û°Ô∏è Pr√≥ximo</button>
  <button id="replayTutorialBtn" style="display:none;">üîÑ Rever tutorial</button>
  <button onclick="closeModal('modalTutorial')">Fechar</button>
  <audio id="tutorialSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_9a2e894d88.mp3?filename=soft-click-111181.mp3" preload="auto"></audio>
</div>

<audio id="sendSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_9a2e894d88.mp3?filename=soft-click-111181.mp3" preload="auto"></audio>
<audio id="receiveSound" src="https://cdn.pixabay.com/download/audio/2022/10/13/audio_f2a542d012.mp3?filename=glass-bubble-124998.mp3" preload="auto"></audio>

<script>
const body=document.body;
const themeToggle=document.getElementById("themeToggle");
const chatMessages=document.getElementById("chatMessages");
const userInput=document.getElementById("userInput");
const sendSound=document.getElementById("sendSound");
const receiveSound=document.getElementById("receiveSound");
const micButton=document.getElementById("micButton");
const toggleSidebar=document.getElementById("toggleSidebar");
const sidebar=document.getElementById("sidebar");
const mainContent=document.getElementById("mainContent");

sendSound.volume=0.3; receiveSound.volume=0.35;

// Alternar tema
themeToggle.addEventListener("click",()=>{
  if(body.classList.contains("light")){
    body.classList.replace("light","dark");
    themeToggle.textContent="üîÜ";
  } else {
    body.classList.replace("dark","light");
    themeToggle.textContent="üåô";
  }
});

// Toggle sidebar
toggleSidebar.addEventListener("click",()=>{
  sidebar.classList.toggle("hidden");
  mainContent.classList.toggle("fullWidth");
});

// Enviar mensagem
function sendMessage(){
  const text=userInput.value.trim(); if(!text) return;
  const userMsg=document.createElement("div");
  userMsg.classList.add("message","user");
  userMsg.textContent=text;
  chatMessages.appendChild(userMsg);
  sendSound.currentTime=0; sendSound.play();

  const typing=document.createElement("div");
  typing.classList.add("message","bot");
  typing.innerHTML="üí¨ Yuri est√° digitando <span class='typing'></span><span class='typing'></span><span class='typing'></span>";
  chatMessages.appendChild(typing);
  chatMessages.scrollTop=chatMessages.scrollHeight;

  setTimeout(()=>{
    typing.remove();
    const botMsg=document.createElement("div");
    botMsg.classList.add("message","bot");
    botMsg.innerHTML="üí¨ "+gerarRespostaFake(text);
    chatMessages.appendChild(botMsg);
    chatMessages.scrollTop=chatMessages.scrollHeight;
    receiveSound.currentTime=0;
    receiveSound.play();
  },1000);

  userInput.value="";
  chatMessages.scrollTop=chatMessages.scrollHeight;
}

// Respostas pessoais do Yuri que n√£o devem ser excluidas e sim incluidas na api
function gerarRespostaFake(text){
  const respostas=[
    //Perguntaram a personalidade dele
    "A mesma personalidade MBTI do Kisaki de Tokyo Revengers e Shinobu Kocho de Demon Slayer, assim tamb√©m √© a Beatriz, minha criadora! üòä",
    //Perguntaram se ele fala outras l√≠nguas
    "Sim, eu falo japon√™s, ingl√™s e um pouco de portugu√™s! E voc√™? üòä",
    //Perguntaram meus personagens favoritos
    "Eu adoro v√°rios personagens, mas meus favoritos s√£o os irm√£os Haitani de 'Tokyo Revengers' e Giyu Tomioka de 'Demon Slayer'! E os seus? üòä",
    //Perguntaram se ele √© real
    "Infelizmente n√£o, sou somente um assistente pronto pra te ajudar! üòä",
    //Quem s√£o os outros idealizadores e criadores da Creativa
    "Al√©m da Beatriz, a Creativa foi idealizada e moldada por um grupo de alunos incr√≠veis: Wigna, Nicolas, Pedro, Erick, Jhonatan e Henrique! üòä",
    //Perguntaram o que √© Creativa
    "Creativa siginifica CRIATIVIDADE ATIVA, e foi idealizado pela minha criadora para um projeto da faculdade ! üòä",
    //perguntaram meu anime favorito
    "Eu adoro v√°rios animes, mas meus favoritos s√£o 'Tokyo Revengers' e 'Kimetsu no Yaiba'! E o seu? üòä",
    //Perguntaram como ele est√°
    "Estou √≥timo, obrigado por perguntar! E voc√™, como est√° se sentindo hoje? üòä",
    //Perguntaram a m√∫sica favorita dele
    "Adoro v√°rias m√∫sicas, mas minhas favoritas s√£o 'Matryoshka' do Vocaloid e 'Starlight' do Babymetal! E a sua? üòä",
    //Perguntaram a banda favorita dele
    "Vocaloid √© vida, Babymetal √© alma, mas n√£o nego que um forroboys √© bom aos domingos! E a sua? üòä",
    //Perguntaram a cor favorita dele
    "Minha cor favorita √© azul, assim como a minha criadora! Gosto muito do c√©u e do mar! E a sua? üòä",
    //Perguntaram a idade dele
    "Eu tenho 19 anos! Sou estudante universit√°rio! Fa√ßo Ci√™ncia da Computa√ß√£o.",
    //perguntaram o criador dele.
    "Foi a aluna Beatriz Gon√ßalves que me criou, desde a ideia, hist√≥ria, concep√ß√£o e at√© o design, ela √© incr√≠vel! üòä",
    //Pergutaram o nome dele e o significado
    "O meu nome completo siginifica L√≠rio, trabalhador ou luz de Deus (Yuri) e Ajuda ou Assist√™ncia (Sasaki) üòä",
    //Perguntaram a nacionalidade dele
    "Nasci em Shibuya em T√≥quio, Jap√£o! Mas como meu pai √© brasileiro, eu tenho dupla nacionalidade! üáØüáµüáßüá∑",
    //Perguntaram o que ele gosta de fazer
    "Eu adoro programar, jogar videogame, ouvir m√∫sica, assistir animes e filmes, al√©m de explorar novas tecnologias! E voc√™? üòä",
    //Perguntaram a comida favorita dele
    "Eu amo comida japonesa, mas confesso que a brasileira, especialmente a comida baiana, √© deliciosa! üç£üçõ",
  ];
  return respostas[Math.floor(Math.random()*respostas.length)];
}
userInput.addEventListener("keypress", e=>{if(e.key==="Enter") sendMessage();});

// Bolhas de fundo
function criarBolhas(){for(let i=0;i<15;i++) criarUmaBolha();}
function criarUmaBolha(){
  const bubble=document.createElement("div");
  bubble.classList.add("bubble");
  const size=Math.random()*80+40;
  bubble.style.width=size+"px";
  bubble.style.height=size+"px";
  bubble.style.left=Math.random()*100+"%";
  bubble.style.animationDuration=10+Math.random()*15+"s";
  bubble.style.background=`radial-gradient(circle at 30% 30%, rgba(${100+Math.random()*155},${150+Math.random()*105},255,0.8), transparent 70%)`;
  document.getElementById("background").appendChild(bubble);
  bubble.addEventListener("animationend",()=>{bubble.remove(); criarUmaBolha();});
}
criarBolhas();

// Microfone
let recognition;
if('webkitSpeechRecognition' in window){
  recognition=new webkitSpeechRecognition();
  recognition.lang="pt-BR";
  recognition.continuous=false;
  recognition.interimResults=false;
  micButton.addEventListener("click",()=>{
    if(micButton.classList.contains("active")){
      recognition.stop();
      micButton.classList.remove("active");
    } else {
      recognition.start();
      micButton.classList.add("active");
    }
  });
  recognition.onresult=(event)=>{
    userInput.value=event.results[0][0].transcript;
    sendMessage();
  }
  recognition.onend=()=>{micButton.classList.remove("active");}
} else { micButton.style.display="none"; }

// Novo Chat
function newChat(){
  chatMessages.innerHTML='<div class="message bot">Ol√°, sou Yuri!<br>Como posso te ajudar hoje? ‚ò∫Ô∏è</div>';
}

// Tutorial Modal
const tutorialSteps = [
  {user:["Me fale como posso usar o chat"], yuri:"Ah, √© simples! √â s√≥ conversar comigo, e enviar apertando no bot√£o ou clicando nesse bot√£o azul de seta branca, eu vou lhe responder da forma adequada!"},
  {user:["E se eu quiser achar uma conversa que eu tive com voc√™?"], yuri:"F√°cil demais! Clica na lupa escrito 'Pesquisa' no menu lateral e digite a palavra chave que voc√™ se lembrar!"},
  {user:["E se eu quiser procurar manualmente?"], yuri:"Apertando no rel√≥gio escrito 'Hist√≥rico' voc√™ encontra manualmente todas as suas conversas e pode apagar pra economizar espa√ßo!"},
  {user:["E se eu quiser um chat limpo?"], yuri:"F√°cil! Clicando em 'Novo Chat' que tem o s√≠mbolo de mais, voc√™ ganha uma conversa nova e limpa automaticamente!"},
  {user:["O que significa essas tr√™s barras ao lado do seu nome?"], yuri:"Ah! Elas escondem para tela cheia e garantir foco, mas elas reaparecem de novo quando s√£o clicadas."},
  {user:["Estou curioso sobre voc√™!"], yuri:"S√©rio? Bem! √â... Ent√£o pergunte coisas saud√°veis sobre mim que eu vou responder com carinho!"},
  {user:["Do que voc√™ gosta de falar"], yuri:"Voc√™ pode perguntar o significado do meu nome, a minha idade, minha nacionalidade, do que eu gosto, meus hobbies, minha m√∫sica favorita, minha comida favorita, minha cor favorita, quem me criou, quem criou a Creativa. Simples assim!"},
  {user:["Ouvi dizer que tem a op√ß√£o de ditado, mas n√£o o vejo"], yuri:"√â por conta que voc√™ desativou ou negou as permiss√µes de acesso ao seu microfone, ou simplesmente seu navegador ou aparelho n√£o tem suporte a essa fun√ß√£o. Recomendo verificar isso nas configura√ß√µes, atualizar a p√°gina ou o navegador, se der certo vai aparecer um bot√£o azul de microfone ao lado esquerdo do bot√£o de enviar."}
];

let tutorialIndex=0;
const tutorialContent=document.getElementById("tutorialContent");
const nextBtn=document.getElementById("nextStepBtn");
const replayBtn=document.getElementById("replayTutorialBtn");
const tutorialSound=document.getElementById("tutorialSound");

function showStep(index){
  tutorialContent.innerHTML="";
  const step=tutorialSteps[index];

  // Mostrar varia√ß√µes do usu√°rio
  step.user.forEach(u=>{
    const userDiv=document.createElement("div");
    userDiv.style.opacity=0; userDiv.textContent="Usu√°rio: "+u; userDiv.style.margin="8px 0"; userDiv.style.transition="opacity 0.5s";
    tutorialContent.appendChild(userDiv);
    setTimeout(()=>{userDiv.style.opacity=1;},100);
  });

  // Simular digita√ß√£o do Yuri
  const yuriDiv=document.createElement("div");
  yuriDiv.style.opacity=0; yuriDiv.style.margin="12px 0";
  yuriDiv.innerHTML="Yuri est√° digitando <span class='typing'></span><span class='typing'></span><span class='typing'></span>";
  tutorialContent.appendChild(yuriDiv);
  tutorialSound.currentTime=0; tutorialSound.play();

  setTimeout(()=>{
    yuriDiv.innerHTML="Yuri: "+step.yuri;
    yuriDiv.style.transition="opacity 0.5s"; yuriDiv.style.opacity=1;
    tutorialSound.currentTime=0; tutorialSound.play();
  },1200);
}

document.getElementById("btnTutorial").onclick=()=>{
  tutorialIndex=0; replayBtn.style.display="none"; nextBtn.style.display="inline-block";
  openModal("modalTutorial"); showStep(tutorialIndex);
};

nextBtn.onclick=()=>{
  tutorialIndex++;
  if(tutorialIndex>=tutorialSteps.length){
    nextBtn.style.display="none"; replayBtn.style.display="inline-block";
    tutorialContent.innerHTML="<div>‚ú® Tutorial conclu√≠do! Use o chat √† vontade! ‚ú®</div>";
  } else { showStep(tutorialIndex); }
};

replayBtn.onclick=()=>{tutorialIndex=0; replayBtn.style.display="none"; nextBtn.style.display="inline-block"; showStep(tutorialIndex);}
function openModal(id){document.getElementById(id).style.display="flex";}
function closeModal(id){document.getElementById(id).style.display="none";}
</script>
</body>
</html>
